<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Title</title>
    <link rel="stylesheet" href="/css/list.css">
</head>
<body>

<h2>게시판 목록</h2>
<form method="get" action="/board/list">
    <select name="type" onchange="this.form.submit()">
        <option value="guest" th:selected="${selectedType == 'guest'}">손님</option>
        <option value="helper" th:selected="${selectedType == 'helper'}">도우미</option>
    </select>
</form>
<button><a th:href="@{/home}">홈</a></button>
<button><a th:href="@{/board/write}">작성하기</a></button>


<div th:each="board: ${board}" id="board" th:attr="data-id=${board.id}"
     onclick="location.href='/board/detail/' + this.getAttribute('data-id')" style="cursor:pointer;">
    <!--            첨부파일 들어갈 곳-->
    <div class="attachment"></div>
    <div id="text-area">
        <a class="title" th:text="${board.title}"></a>
        <div class="name-wapper">
            <a class="name" th:text="${board.name}"></a>
            <a class="followCount" th:if="${board.type == 'helper'}" th:text="'팔로우 ' + ${board.followCount} + '명'"></a>
        </div>
        <a class="content" th:text="${board.content}"></a>
        <div th:unless="${session.id} == ${board.user_id}">
            <a class="follow" th:if="${board.type == 'helper'}"
               th:text="${board.follow} == true ? 'FOLLOWING' : 'NOPE'"></a>
        </div>
        <!--            태그 보여주기-->
        <div class="tagType" th:if="${board.type == 'guest'}">
            <span class="tagName" th:each="tag : ${board.post_tag}" th:text=" '# ' + ${tag.name} + '  '"
                  th:style="'color:' + ${tag.color} + '; border: 1px solid ' + ${tag.color}"></span>
        </div>
        <div class="tagType" th:if="${board.type == 'helper'}">
            <span class="tagName" th:each="tag : ${board.user_tag}" th:text=" '# ' + ${tag.name} + '  '"
                  th:style="'color:' + ${tag.color} + '; border: 1px solid ' + ${tag.color}"></span>
        </div>
    </div>
    <!--    이거 날짜와 시간 넣을때 개인적으로 분, 초는 필요가 없다고 생각함.-->
    <a class="day"
       th:text="${#temporals.format(board.createdat, board.createdat.monthValue >= 10 ? 'yy년 MM월 dd일 HH시' : 'yy년 M월 d일 H시')}"></a>

</div>
</body>
</html>